# NFR Requirements - Backend

## NFR-01: 성능

| 항목 | 요구사항 |
|------|---------|
| API 응답 시간 | 일반 API < 500ms, 주문 생성 < 1s |
| SSE 이벤트 전달 | 신규 주문 2초 이내 관리자 화면 표시 |
| 동시 접속 | 단일 매장 기준 테이블 20~50개 + 관리자 1~3명 |
| DB 쿼리 | 주요 조회 쿼리 < 100ms |

## NFR-02: 보안

| 항목 | 요구사항 |
|------|---------|
| 인증 | JWT 토큰 (16시간 만료) |
| 비밀번호 | bcrypt 해싱 (strength 10) |
| 로그인 제한 | 5회 실패 시 15분 잠금 |
| API 보호 | 인증 필요 엔드포인트에 JWT 필터 적용 |
| CORS | Frontend 도메인만 허용 |

## NFR-03: 가용성

| 항목 | 요구사항 |
|------|---------|
| 대상 환경 | 단일 매장 로컬/온프레미스 |
| 가용성 목표 | 영업 시간 내 서비스 가동 |
| 장애 복구 | Docker Compose restart policy: always |
| 데이터 보존 | PostgreSQL volume 영속화 |

## NFR-04: 데이터 무결성

| 항목 | 요구사항 |
|------|---------|
| 트랜잭션 | 주문 생성, 이용 완료 처리는 단일 트랜잭션 |
| 스냅샷 | 주문 시점 메뉴명/단가 OrderItem에 저장 |
| 세션 관리 | 이용 완료 시 이력 이동 + 리셋 원자적 처리 |

## NFR-05: 유지보수성

| 항목 | 요구사항 |
|------|---------|
| 코드 구조 | 계층형 아키텍처 (Controller → Service → Repository) |
| 로깅 | SLF4J + Logback, 주요 비즈니스 이벤트 로깅 |
| 에러 처리 | 글로벌 예외 핸들러, 일관된 에러 응답 포맷 |
